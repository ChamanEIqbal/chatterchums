<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>Documentation &amp; Acknowledgements</title>
            <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

</style>
            
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
        
        </head>
        <body class="vscode-body vscode-dark">
            <style> 
h1, h2, h3, h4, h5, h6 {
    color:#fff;
}
body {
    background-color: #021f1f;
    color: #fff;
    padding: 15px 5px 15px 5px;
}
a {
    color: #0ff711;
}
a:hover {
    color: #ffff00;
}
pre code {
    background-color: #111;
    width: 100%;
    padding: 10px 0px 10px 0px;
    overflow-x:auto;
    border-radius: 2px;
}

 ::selection {
      background-color: #0ff711;
      color: black;
    }

.img_div {
    display: inline-block;
    color: #fff;
    background-color: rgba(17,17,17,0.5);
    margin: 10px;
    font-size: 25pt;
}
.center_div {
        text-align:center;
}

.small_text {
    font-size: 8pt;
}
</style>
<h1 id="documentation--acknowledgements">Documentation &amp; Acknowledgements</h1>
<p>Social Media Application in C++, using wxWidgets &amp; sqlite3 database, is a project that was submitted to Ms. Rabia Amjad for the CCA (Complex Computing Activity) of our Data Structures and Algorithms course (CSL-221).</p>
<h2 id="authors">Authors:</h2>
<ul>
<li>Mustafa Ahmed Khan <strong>(02-134222-022)</strong></li>
<li>Muhammad Umar Amir <strong>(02-134222-013)</strong></li>
</ul>
 <div class="small_text">FALL-2023 (BSCS III-B)</div>
<br>
<h1 id="modules">Modules</h1>
<ul>
<li>
<h2 id="gui">GUI</h2>
<ul>
<li>
<h3 id="dashboardh-includeframesdashboardh">Dashboard.h <em>(../include/frames/Dashboard.h)</em></h3>
<ul>
<li><strong>Add Posts</strong> <em>(../include/components/AddPostPanel.h)</em></li>
<li><strong>View Posts</strong> <em>(../include/componentsAllPostsPane.h)</em></li>
<li><strong>Friend Recommendation</strong> <em>(../include/components/FriendsPanel.h)</em></li>
<li><strong>User Profile</strong> <em>(../components/ProfilePanel.h)</em></li>
</ul>
</li>
</ul>
</li>
<li>
<h2 id="frames">Frames</h2>
<ul>
<li><strong>Login Frame</strong> <em>(../src/LoginFrame.cpp &amp; ../include/frames/LoginFrame.h)</em></li>
<li><strong>Register Frame</strong> <em>(../src/RegFrame.cpp &amp; ../include/frames/RegFrame.h)</em></li>
<li><strong>Startup Frame</strong> <em>(../src/StartupFrame.cpp &amp; ../include/frames/StartupFrame.h)</em></li>
</ul>
</li>
<li>
<h2 id="database-data-access-objects">Database (Data Access Objects)</h2>
<ul>
<li><strong>Friends Table Data Access Object</strong> <em>(../include/database/friendsDao.h)</em></li>
<li><strong>Users Table Data Access Object</strong> <em>(../include/database/userDao.h)</em></li>
<li><strong>Posts Table Data Access Object</strong> <em>(../include/database/postDao.h)</em></li>
</ul>
</li>
<li>
<h2 id="data-structures-classes">Data Structures Classes</h2>
<ul>
<li><strong>Graph</strong> <em>(../include/classes/Graph.h)</em></li>
<li><strong>User</strong> <em>(../include/classes/User.h)</em></li>
<li><strong>Post</strong> <em>(../include/classes/Post.h)</em>
<br><br><br></li>
</ul>
</li>
</ul>
<h1 id="explanation-of-graph-implementation">Explanation of Graph Implementation:</h1>
<pre><code class="language-cpp">   <span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> MAIN_H</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> MAIN_H</span>

<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;wx/wx.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;classes/Graph.h&quot;</span></span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyApp</span> : <span class="hljs-keyword">public</span> wxApp {
<span class="hljs-keyword">public</span>:
   wxFrame* frame;
   <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">OnInit</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span></span>;

   <span class="hljs-function"><span class="hljs-type">static</span> Graph&amp; <span class="hljs-title">GetGraph</span><span class="hljs-params">()</span> </span>{
       App_Graph.<span class="hljs-built_in">setVals</span>();
       <span class="hljs-keyword">return</span> App_Graph;
   }

<span class="hljs-keyword">private</span>:
   <span class="hljs-type">static</span> Graph App_Graph;
};
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>

</code></pre>
<p>MyApp Class <em>(../include/main.h)</em>, has an instantiation of Graph.h, as a singleton instance, which can be called anywhere. when the <strong>GetGraph()</strong> function is called, it initalizes the value of the <em>unordered_map</em> instance of the Graph's class from the database, and sets its values from the FRIENDS table (../resources/database.db).</p>
<p>It is called in the Dashboard's Implementation as follows:</p>
<pre><code class="language-cpp"><span class="hljs-comment">/*ADD FRIENDS PANEL*/</span>
Graph graph = MyApp::<span class="hljs-built_in">GetGraph</span>();
FriendsPanel *add_friends_panel = <span class="hljs-keyword">new</span> <span class="hljs-built_in">FriendsPanel</span>(notebook, user, graph);
notebook-&gt;<span class="hljs-built_in">AddPage</span>(add_friends_panel, wxString::<span class="hljs-built_in">Format</span>(<span class="hljs-string">&quot;Friends&quot;</span>));
<span class="hljs-comment">/*Add FRIENDS PANEL END */</span>
</code></pre>
<p>LINE NO. 45 ONWARDS <em>(../include/frames/Dashboard.h)</em></p>
<p>The graph is then given to the FriendsPanel's constructor for further implementation.</p>
<pre><code class="language-cpp">vector&lt;string&gt; recommended = dao_user.<span class="hljs-built_in">getUsernamesFromIds</span>(Graph.<span class="hljs-built_in">dfsRecommendation</span>(user_.id, <span class="hljs-number">15</span>));

<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; recommended.<span class="hljs-built_in">size</span>(); ++i) {  
wxPanel* squarePanel = <span class="hljs-built_in">CreateSquarePanel</span>(scrolledWindow2, recommended[i]);
scrolledBoxSizer2-&gt;<span class="hljs-built_in">Add</span>(squarePanel, <span class="hljs-number">0</span>, wxALL, <span class="hljs-number">10</span>);
}
</code></pre>
<p>We can change the .dfsRecommendation() to .bfsRecommendation, though done manually; it would have been better if we were to add an option.</p>
<p>The DAO_USER instance uses a function as follows, which allows the vector of integers to be correlated one by one to each ID of the user in the USERS table, and return an array of strings containing its corresponding username.</p>
<pre><code class="language-cpp"><span class="hljs-function">std::vector&lt;std::string&gt; <span class="hljs-title">getUsernamesFromIds</span><span class="hljs-params">(std::vector&lt;<span class="hljs-type">int</span>&gt; userIDs)</span> </span>{
std::vector&lt;std::string&gt; usernames;

<span class="hljs-keyword">try</span> {
<span class="hljs-keyword">if</span> (db == <span class="hljs-literal">nullptr</span>) {
std::cout &lt;&lt; <span class="hljs-string">&quot;Error: Database connection is not open. us4&quot;</span> &lt;&lt; std::endl;
<span class="hljs-keyword">return</span> usernames;  <span class="hljs-comment">// Return an empty vector since there&#x27;s an error</span>
}

std::string query = <span class="hljs-string">&quot;SELECT UserName FROM USERS WHERE UserId = ?&quot;</span>;
sqlite3_stmt* statement;

<span class="hljs-comment">// Prepare the statement outside the loop</span>
<span class="hljs-keyword">if</span> (<span class="hljs-built_in">sqlite3_prepare_v2</span>(db, query.<span class="hljs-built_in">c_str</span>(), <span class="hljs-number">-1</span>, &amp;statement, <span class="hljs-literal">nullptr</span>) != SQLITE_OK) {
std::cout &lt;&lt; <span class="hljs-string">&quot;Error: could not prepare select query.&quot;</span> &lt;&lt; std::endl;
<span class="hljs-keyword">return</span> usernames;  <span class="hljs-comment">// Return an empty vector since there&#x27;s an error</span>
}

<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> userID : userIDs) {
<span class="hljs-comment">// Bind the parameter</span>
<span class="hljs-keyword">if</span> (<span class="hljs-built_in">sqlite3_bind_int</span>(statement, <span class="hljs-number">1</span>, userID) != SQLITE_OK) {
  std::cout &lt;&lt; <span class="hljs-string">&quot;Error: could not bind parameter.&quot;</span> &lt;&lt; std::endl;
  <span class="hljs-keyword">return</span> usernames;  <span class="hljs-comment">// Return an empty vector since there&#x27;s an error</span>
}

<span class="hljs-comment">// Execute the statement</span>
<span class="hljs-type">int</span> stepResult = <span class="hljs-built_in">sqlite3_step</span>(statement);

<span class="hljs-keyword">if</span> (stepResult == SQLITE_ROW) {
  <span class="hljs-type">const</span> <span class="hljs-type">char</span>* usernameCStr = <span class="hljs-built_in">reinterpret_cast</span>&lt;<span class="hljs-type">const</span> <span class="hljs-type">char</span>*&gt;(<span class="hljs-built_in">sqlite3_column_text</span>(statement, <span class="hljs-number">0</span>));
  <span class="hljs-function">std::string <span class="hljs-title">retrievedUsername</span><span class="hljs-params">(usernameCStr != <span class="hljs-literal">nullptr</span> ? usernameCStr : <span class="hljs-string">&quot;&quot;</span>)</span></span>;
  usernames.<span class="hljs-built_in">push_back</span>(retrievedUsername);
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (stepResult != SQLITE_DONE) {
  std::cout &lt;&lt; <span class="hljs-string">&quot;Error executing the select query.&quot;</span> &lt;&lt; std::endl;
  <span class="hljs-keyword">return</span> usernames;  <span class="hljs-comment">// Return an empty vector since there&#x27;s an error</span>
}

<span class="hljs-built_in">sqlite3_reset</span>(statement);
}

<span class="hljs-built_in">sqlite3_finalize</span>(statement);

} <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> std::exception&amp; e) {
std::cout &lt;&lt; <span class="hljs-string">&quot;Exception: &quot;</span> &lt;&lt; e.<span class="hljs-built_in">what</span>() &lt;&lt; std::endl;
}

<span class="hljs-keyword">return</span> usernames;
}
</code></pre>
<h1 id="acknowledgements">Acknowledgements</h1>
<p>We acknowledge our teachers, for they have given us an opportunity and entrusted us with such a challenging task; We thrived to make them content and We always want them to see in us potential, if it not were for their support; We would not have finished this project with such excellency.</p>
<p>We would also like to give courtesy to <a href="https://youtu.be/tHMGA0jIl3Y?si=SAqZZxF3-pNXq1JR">Yanson Tech</a>, as they introduced us to the concepts of makefiles, external libraries and how headerfiles are created and used in Visual Studio Code.</p>
<hr>
            
            
        </body>
        </html>